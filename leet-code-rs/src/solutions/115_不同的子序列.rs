/* ğŸ”– 
 * @lc app=leetcode.cn id=115 lang=rust
 *
 * [115] ä¸åŒçš„å­åºåˆ—
 */

// @lc code=start

#[allow(unused)]
impl Solution {
    /**
     * è§£é¢˜æ€è·¯ï¼šæœ¬é¢˜æ˜¯é€‰å’Œä¸é€‰é—®é¢˜
     *  1. dp[i][j]: s å‰ i ä¸ªå…ƒç´ å’Œå‡ºç° t å‰ j ä¸ªå…ƒç´ çš„ä¸ªæ•°
     *  2. é€’æ¨å…¬å¼ï¼š
     *     - s[i] == t[i]: dp[i+1][j+1] = dp[i][j](åŒæ—¶åˆ é™¤ i å’Œ j) + dp[i][j+1]ï¼ˆåªåˆ é™¤ i ï¼‰;
     *       - ç›¸ç­‰æ—¶è€ƒè™‘ç”¨ si å’Œä¸ç”¨ si âš ï¸ 
     *       - å¦‚æœç”¨ siï¼Œå³ä» s[0..i-1] å»æ‰¾ t[0..i-1]ï¼ˆæ­¤æ—¶å¯¹åº” dp[i-1][j-1]ï¼‰
     *       - å¦‚æœä¸ç”¨ siï¼Œå³ä» s[0..i-1] é‡æ–°å»æ‰¾ t[0..i]ï¼ˆæ­¤æ—¶å¯¹åº” dp[i-1][j]ï¼‰
     *       - æ‰€ä»¥ dp[i][j] = dp[i-1][j-1](ç”¨ s1) + dp[i-1][j](ä¸ç”¨ si) 
     *     - s[i] != t[i]: dp[i+1][j+1] = dp[i][j+1]ï¼ˆt ä¸èƒ½åˆ ï¼‰
     *  3. åˆå§‹åŒ–ï¼šæ ¹æ® dp å«ä¹‰ï¼šdp[i][0] = 1
     *
     * æ€è·¯2ï¼šç°åœ¨æœ‰7ä¸ªç‰©å“â€œbabgbag", ä¾æ¬¡æ”¾è¿›sizeä¸º3çš„èƒŒåŒ…"bag"ä¸­ï¼Œ
     *  ä½†æ”¾è¿›èƒŒåŒ…çš„æ¡ä»¶æ˜¯åªæœ‰å­—ç¬¦ç›¸ç­‰æ‰èƒ½æ”¾ï¼Œå¯ä»¥é€‰æ‹©æ”¾ä¸ä¸æ”¾ï¼Œæ±‚æ”¾æ»¡èƒŒåŒ…çš„æ–¹æ³•æ•°
     */
    pub fn num_distinct(s: String, t: String) -> i32 {
        let s: Vec<char> = s.chars().collect();
        let t: Vec<char> = t.chars().collect();

        let mut dp = vec![vec![0; t.len() + 1]; s.len() + 1];
        // åˆå§‹åŒ– dp[i][0]ï¼šs i-1ä¸‹æ ‡å‡ºç° t -1 ç©ºä¸²æ¬¡æ•°ä¸º 1ï¼›
        for i in 0..=s.len() {
            dp[i][0] = 1;
        }

        for i in 0..s.len() {
            for j in 0..t.len() {
                dp[i + 1][j + 1] = if s[i] == t[j] {
                    dp[i][j + 1] + dp[i][j]
                } else {
                    dp[i][j + 1]
                }
            }
        }

        return dp[s.len()][t.len()];
    }
}
// @lc code=end

#[allow(unused)]
struct Solution;

#[cfg(test)]
mod test {
    #[allow(unused)]
    use super::*;
    // * æ¯”å¦‚åœ¨abcabcé‡Œæ‰¾å¤šå°‘ä¸ªabcï¼Œå‡è®¾ç°åœ¨æ˜¯åŒ¹é…åˆ°äº†i=5 j=2, è¦ç”¨5å·ç´¢å¼•è¿™ä¸ªcï¼Œåªéœ€è¦å»å‰é¢æ‰¾ab
    // * å¦‚ä½•è¡¨ç¤ºå»å‰é¢æ‰¾abå‘¢ï¼Ÿå°±æ˜¯dp[i-1][j-1],è¡¨ç¤ºå»abcabé‡Œæ‰¾abçš„æ„æ€
    // * ä¹Ÿå°±æ˜¯è¯´abcabé‡Œæ‰¾abï¼Œæœ‰å¤šå°‘ä¸ªabï¼Œé‚£ä¹ˆabcabcé‡Œå°±æœ‰å¤šå°‘ä¸ªabc
    // * è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œä½ ä¸ç”¨è¿™ä¸ªcï¼Œé‚£ä½ å¾—å»å‰é¢æ‰¾abcï¼Œä»abcabé‡Œæ‰¾abcï¼Œè¡¨ç¤ºä¸ºdp[i-1][j]
    //  [  r  a  b  i
    // r [ 1, 0, 0, 0],
    // a [ 1, 1, 0, 0],
    // b [ 1, 1, 1, 0],
    // b [ 1, 1, 2, 0],
    // b [ 1, 1, 3, 0],
    // i [ 1, 1, 3, 3],
    // t [ 1, 1, 3, 3]
    // ]
    #[test]
    fn test_num_distinct() {
        //assert_eq!(Solution::num_distinct(vec![]),[]);
        assert!(true)
    }
}
